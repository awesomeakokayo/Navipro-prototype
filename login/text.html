<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
</head>
<body>
    <div class="content">
        <div class="left">
            <h2>Join Our Community</h2>
            <p>Access exclusive features and resources by signing in to your account. Manage your profile, track your progress, and connect with others.</p>
        </div>

        <div class="right">
            <img class="logo" src="https://via.placeholder.com/150x60/6a11cb/ffffff?text=NaviPro" alt="Logo">
            <h1>Hello, welcome back</h1>
            <p class="cta">Let's pick up where you left off!</p>
            
            <div class="form-container">
                <button id="googleRegister" class="google-register">
                    <img class="google-logo" src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google"> 
                    Continue with Google
                </button>
                
                <div class="line-divider">
                    <span>or</span>
                </div>
                
                <form id="loginForm">
                    <input id="email" class="form-input" type="email" placeholder="fullname@gmail.com" required>

                    <div class="password-container">
                        <input id="password" class="form-input" type="password" placeholder="Password" minlength="8" required>
                        <button type="button" class="password-toggle" onclick="togglePassword('password', this)">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>

                    <button class="submit" type="submit">Log in</button>

                    <div class="checkbox-container">
                        <span>
                            <input type="checkbox" id="terms">
                            <label for="terms">Remember me</label>
                        </span>
                        <a href="#">Forgot password</a>
                    </div>
    
                    <p class="login-link">
                        Don't have an account? <a href="#">Register</a>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <div id="googleModal" class="modal">
        <div class="modal-content">
            <h2>Google Authentication</h2>
            <p>This would normally redirect to Google's OAuth service for authentication. In a real application, this would connect to your backend.</p>
            <p>For a real implementation, you would need to set up OAuth 2.0 credentials in the Google Cloud Console and implement the server-side flow.</p>
            <button class="modal-button" onclick="closeModal()">OK</button>
        </div>
    </div>

    <script>
        // Define backend URL (replace with your actual backend URL)
        const backendURL = "http://localhost:3000"; // Example URL
        
        // Password visibility toggle
        function togglePassword(inputId, toggleButton) {
            const passwordInput = document.getElementById(inputId);
            const eyeIcon = toggleButton.querySelector("i");
            
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                eyeIcon.className = "fas fa-eye-slash";
            } else {
                passwordInput.type = "password";
                eyeIcon.className = "fas fa-eye";
            }
        }
        
        // Form submission handler
        document.getElementById("loginForm").addEventListener("submit", async (e) => {
            e.preventDefault();
            
            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value.trim();
            
            if (!email) {
                alert("Email is required");
                return;
            }
            
            if (!password) {
                alert("Password is required");
                return;
            }
            
            // In a real application, this would send the data to your backend
            console.log("Login attempt with:", { email, password });
            
            // Simulate API call
            try {
                // This is a simulation - replace with actual fetch call
                console.log(`Sending login request to: ${backendURL}/login`);
                
                // Simulate successful login after a short delay
                setTimeout(() => {
                    alert("Login successful! Redirecting to dashboard...");
                    // In a real application, you would redirect here
                    // window.location.href = "../Dashboard/index.html";
                }, 1000);
            } catch (error) {
                console.error("Error during login:", error);
                alert("An error occurred. Please try again later.");
            }
        });
        
        // Google register handler
        document.getElementById("googleRegister").addEventListener("click", () => {
            // Show modal to explain what would happen
            document.getElementById("googleModal").style.display = "flex";
            
            // In a real application, you would redirect to your backend's Google auth endpoint
            // window.location.href = `${backendURL}/auth/google`;
        });
        
        function closeModal() {
            document.getElementById("googleModal").style.display = "none";
        }
        
        // Close modal if user clicks outside the modal content
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('googleModal');
            if (e.target === modal) {
                closeModal();
            }
        });
    </script>
</body>
</html>